import java.util.ArrayList;


public class Main {

	private static ArrayList<Equation> equations = new ArrayList<>();
	private static Evaluate evaluation = new Evaluate(3);

	public static void main(String[] args) {
		equations.add(new Equation(null, 0));
		for(int i = 0; i < 3; i++) {
			nextLevel();
			System.out.println("Level " + (i+1));
			//print();
			evaluate();
		}
	}
	
	private static void nextLevel(){
		ArrayList<Equation> newEquations = new ArrayList<>();
		for(Equation equation : equations) {
			for(Equation e : equation.Expand()) {
				newEquations.add(e);
			}
		}
		equations = newEquations;
	}
	
	/**
	 * Prints the current equations in the equations list
	 */
	private static void print() {
		for(Equation eq : equations) {
			printEquation(eq);
		}
	}
	
	/**
	 * Prints equation
	 */
	private static void printEquation(Equation eq) {
		for(Symbol s : eq.getElements()) {
			System.out.print(s.getRepresentation());
		}
		System.out.println();
	}
	
	private static void evaluate() {
		for(Equation eq : equations) {	
			if(!eq.containsNonTerminal()) {
				if(evaluation.evaluate(eq)) {
					printEquation(eq);
				}
			}
		}
	}
	
}
